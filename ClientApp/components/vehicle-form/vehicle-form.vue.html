<template>
    <div class="main">

        <div class="widget">
            <div class="title">Create Vehicle</div>
            <div class="chart">
                <h2>New Vehicle</h2>
  
            <!-- <v-select v-model="selected" :options="features"></v-select> -->

                <form class="form-vetical form" @submit.prevent>
                    <div class="form-group">
                        <label for="make">Make</label>
                        <select @change="changeVehicle" v-model="vehicleForm.makeId" id="make" class="form-control">                    
                            <option selected="selected">Select Make</option>
                            <option v-for="make in makes" :value="make.id">{{ make.name }}</option>
                        </select>
                    </div>

                    <div class="form-group" v-if="models.length">
                        <label for="models">Model</label>
                        <select id="models" class="form-control" v-model="vehicleForm.modelId">
                            <option selected="selected">Select Model</option>
                            <option v-for="model in models" :value="model.id">{{ model.name }}</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <p>Is the vehicle registered?</p>
                    
                        <label for="isRegistered" class="radio-inline">
                            <input v-model="vehicleForm.isRegistered" value="true" id="isRegistered" type="radio" name="registered"> Yes
                        </label>
                        <label for="notRegistered" class="radio-inline">
                            <input v-model="vehicleForm.isRegistered" value="false" id="notRegistered" type="radio" name="registered"> No
                        </label>
                    </div>           
                

                    <h3>Feature</h3>
                    <div class="checkbox" v-for="feature in features">
                        <label :for="'feature'+feature.id">
                            <input v-model="vehicleForm.features" :id="'feature'+feature.id" type="checkbox" :value="feature.id" class="checkbox"> {{ feature.name }}
                        </label>
                    </div>  

                    <h3>Contact</h3>
                    
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input v-model="vehicleForm.contact.name" type="text" id="name" class="form-control input-sm">
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input v-model="vehicleForm.contact.email" type="text" id="email" class="form-control input-sm">
                </div>
                    <div class="form-group">
                        <label for="phone">Phone</label>
                        <input v-model="vehicleForm.contact.phone" type="text" id="phone" class="form-control input-sm">
                </div>            

                <button @click="submitForm" class="btn btn-primary">Save</button>

                </form>
            </div>
        </div>

        <div class="widget">
            <div class="title">Test form</div>
            <div class="chart">
                {{ vehicleForm }}
            </div>
        </div> 


        <div v-if="features.length">
            
        </div>
        <p v-else>Loading data.....</p>

    </div>
</template>

<script src="./vehicle-form.ts"></script>